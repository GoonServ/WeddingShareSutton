@model WeddingShare.Views.Account.Partials.SettingsListModel
@using WeddingShare.Extensions
@using WeddingShare.Views.Account.Tabs

@{
    var userPermissions = User?.Identity?.GetUserPermissions() ?? AccessPermissions.None;
}

@if (userPermissions.HasFlag(AccessPermissions.Settings_View) && Model != null)
{
    <div class="accordion" id="settings-accordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-basic">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-basic" aria-expanded="false" aria-controls="collapse-basic">
                    @_localizer["Settings_Basic"].Value
                </button>
            </h2>
            <div id="collapse-basic" class="accordion-collapse collapse" aria-labelledby="heading-basic" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Basic.cshtml" model="new WeddingShare.Views.Account.Settings.BasicModel() { Settings = Model.Settings, CustomResources = Model.CustomResources }" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-gallery">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-gallery" aria-expanded="false" aria-controls="collapse-gallery">
                    @_localizer["Settings_Gallery"].Value
                </button>
            </h2>
            <div id="collapse-gallery" class="accordion-collapse collapse" aria-labelledby="heading-gallery" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Gallery.cshtml" model="new WeddingShare.Views.Account.Settings.GalleryModel() { Settings = Model.Settings, CustomResources = Model.CustomResources }" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-identity-check">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-identity-check" aria-expanded="false" aria-controls="collapse-identity-check">
                    @_localizer["Settings_IdentityCheck"].Value
                </button>
            </h2>
            <div id="collapse-identity-check" class="accordion-collapse collapse" aria-labelledby="heading-identity-check" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/IdentityCheck.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-slideshow">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-slideshow" aria-expanded="false" aria-controls="collapse-slideshow">
                    @_localizer["Settings_Slideshow"].Value
                </button>
            </h2>
            <div id="collapse-slideshow" class="accordion-collapse collapse" aria-labelledby="heading-slideshow" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Slideshow.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-account">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-account" aria-expanded="false" aria-controls="collapse-account">
                    @_localizer["Settings_Account"].Value
                </button>
            </h2>
            <div id="collapse-account" class="accordion-collapse collapse" aria-labelledby="heading-account" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Account.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-alerts">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-alerts" aria-expanded="false" aria-controls="collapse-alerts">
                    @_localizer["Settings_Alerts"].Value
                </button>
            </h2>
            <div id="collapse-alerts" class="accordion-collapse collapse" aria-labelledby="heading-alerts" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Alerts.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-smtp">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-smtp" aria-expanded="false" aria-controls="collapse-smtp">
                    @_localizer["Settings_Smtp"].Value
                </button>
            </h2>
            <div id="collapse-smtp" class="accordion-collapse collapse" aria-labelledby="heading-smtp" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Smtp.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-ntfy">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-ntfy" aria-expanded="false" aria-controls="collapse-ntfy">
                    @_localizer["Settings_Ntfy"].Value
                </button>
            </h2>
            <div id="collapse-ntfy" class="accordion-collapse collapse" aria-labelledby="heading-ntfy" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Ntfy.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-gotify">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-gotify" aria-expanded="false" aria-controls="collapse-gotify">
                    @_localizer["Settings_Gotify"].Value
                </button>
            </h2>
            <div id="collapse-gotify" class="accordion-collapse collapse" aria-labelledby="heading-gotify" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Gotify.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-themes">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-themes" aria-expanded="false" aria-controls="collapse-themes">
                    @_localizer["Settings_Themes"].Value
                </button>
            </h2>
            <div id="collapse-themes" class="accordion-collapse collapse" aria-labelledby="heading-themes" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Themes.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-languages">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-languages" aria-expanded="false" aria-controls="collapse-languages">
                    @_localizer["Settings_Languages"].Value
                </button>
            </h2>
            <div id="collapse-languages" class="accordion-collapse collapse" aria-labelledby="heading-languages" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/Languages.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-background-services">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-background-services" aria-expanded="false" aria-controls="collapse-background-services">
                    @_localizer["Settings_BackgroundServices"].Value
                </button>
            </h2>
            <div id="collapse-background-services" class="accordion-collapse collapse" aria-labelledby="heading-background-services" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/BackgroundServices.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="heading-custom-policies">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-custom-policies" aria-expanded="false" aria-controls="collapse-custom-policies">
                    @_localizer["Settings_CustomPolicies"].Value
                </button>
            </h2>
            <div id="collapse-custom-policies" class="accordion-collapse collapse" aria-labelledby="heading-custom-policies" data-bs-parent="#settings-accordion">
                <div class="accordion-body mt-3 mt-lg-3">
                    <partial name="~/Views/Account/Settings/CustomPolicies.cshtml" model="Model.Settings" />
                </div>
            </div>
        </div>
    </div>
}